-- MySQL Script generated by MySQL Workbench
-- Sat Nov  4 21:41:41 2023
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- Drop all table
DROP TABLE IF EXISTS Memory, Item, Aspect, ElementOfTheSoul, Book, Numen, WorkshopAspectRequirement, Workstation, Skill, People, Language;
DROP TABLE IF EXISTS Visitor, Assistant, SkillEOTS, SkillPeople, ItemSkillBook, SkillMemory;


-- -----------------------------------------------------
-- Table `Memory`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Memory` (
  `memoryID` VARCHAR(40) NOT NULL,
  `memoryName` VARCHAR(40) NULL,
  `memorySources` VARCHAR(100) NULL,
  `memoryIsSound` BIT(1) NULL,
  `memoryIsOmen` BIT(1) NULL,
  `memoryIsPersistent` BIT(1) NULL,
  `memoryIsWeather` BIT(1) NULL,
  PRIMARY KEY (`memoryID`),
  UNIQUE INDEX `memoryName_UNIQUE` (`memoryName` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Item`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Item` (
  `itemID` VARCHAR(20) NOT NULL,
  `itemName` VARCHAR(20) NULL,
  PRIMARY KEY (`itemID`),
  UNIQUE INDEX `itemName_UNIQUE` (`itemName` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Aspect`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Aspect` (
  `aspectID` VARCHAR(20) NOT NULL,
  `aspectName` VARCHAR(20) NULL,
  `itemID` VARCHAR(20) NULL,
  PRIMARY KEY (`aspectID`),
  UNIQUE INDEX `aspectName_UNIQUE` (`aspectName` ASC) VISIBLE,
    FOREIGN KEY (`aspectID`)
    REFERENCES `Item` (`itemID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ElementOfTheSoul`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ElementOfTheSoul` (
  `elementOfTheSoulID` VARCHAR(20) NOT NULL,
  `elementOfTheSoulName` VARCHAR(20) NULL,
  `assistantID` VARCHAR(20) NULL,
  PRIMARY KEY (`elementOfTheSoulID`),
  UNIQUE INDEX `elementOfTheSoulName_UNIQUE` (`elementOfTheSoulName` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Book`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Book` (
  `bookID` VARCHAR(20) NOT NULL,
  `bookName` VARCHAR(80) NULL,
  `language` VARCHAR(20) NULL,
  `aspectID` VARCHAR(20) NULL,
  `memoryID` VARCHAR(20) NULL,
  `elementOfTheSoulID` VARCHAR(20) NULL,
  `numenID` VARCHAR(20) NULL,
  PRIMARY KEY (`bookID`),
  UNIQUE INDEX `bookName_UNIQUE` (`bookName` ASC) VISIBLE,
    FOREIGN KEY (`aspectID`)
		REFERENCES `Aspect` (`aspectID`)
		ON DELETE CASCADE
		ON UPDATE CASCADE,
    FOREIGN KEY (`memoryID`)
		REFERENCES `Memory` (`memoryID`)
		ON DELETE CASCADE
		ON UPDATE CASCADE,
    FOREIGN KEY (`elementOfTheSoulID`)
		REFERENCES `ElementOfTheSoul` (`elementOfTheSoulID`)
		ON DELETE CASCADE
		ON UPDATE CASCADE,
    FOREIGN KEY (`numenID`)
		REFERENCES `Numen` (`numenID`)
		ON DELETE CASCADE
		ON UPDATE CASCADE)
	ENGINE = InnoDB;

-- -----------------------------------------------------
-- Table `Numen`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Numen` (
    `numenID` VARCHAR(20) NOT NULL,
    `memoryID` VARCHAR(20) NULL,
    `bookID` VARCHAR(20) NULL,
    PRIMARY KEY (`numenID`),
    FOREIGN KEY (`numenID`)
        REFERENCES `Memory` (`memoryID`)
        ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (`bookID`)
        REFERENCES `Book` (`bookID`)
        ON DELETE CASCADE ON UPDATE CASCADE
)  ENGINE=INNODB;


-- -----------------------------------------------------
-- Table `Workstation`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Workstation` (
  `workstationID` VARCHAR(20) NOT NULL,
  `workstationName` VARCHAR(40) NULL,
  `room` VARCHAR(20) NULL,
  `evolution` VARCHAR(20) NULL,
  `slots` VARCHAR(80) NULL,
  `skillID` VARCHAR(20) NULL,
  PRIMARY KEY (`workstationID`),
  UNIQUE INDEX `skillID_UNIQUE` (`skillID` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `WorkshopAspectRequirement`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `WorkshopAspectRequirement` (
    `workshopAspectRequirementID` VARCHAR(20) NOT NULL,
    `aspectID` VARCHAR(20) NULL,
    `workstationID` VARCHAR(20) NULL,
    PRIMARY KEY (`workshopAspectRequirementID`),
    FOREIGN KEY (`aspectID`)
        REFERENCES `Aspect` (`aspectID`)
        ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY (`workstationID`)
        REFERENCES `Workstation` (`workstationID`)
        ON DELETE CASCADE ON UPDATE CASCADE
)  ENGINE=INNODB;


-- -----------------------------------------------------
-- Table `Skill`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Skill` (
  `skillID` VARCHAR(20) NOT NULL,
  `skillName` VARCHAR(40) NULL,
  `specialAttribute` VARCHAR(20) NULL,
  `aspectID` VARCHAR(20) NULL,
  PRIMARY KEY (`skillID`),
  UNIQUE INDEX `skillName_UNIQUE` (`skillName` ASC) VISIBLE,
  INDEX `aspectID_idx` (`aspectID` ASC) VISIBLE,
    FOREIGN KEY (`aspectID`)
    REFERENCES `Aspect` (`aspectID`)
    ON DELETE CASCADE 
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `People`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `People` (
  `peopleID` VARCHAR(20) NOT NULL,
  `peopleName` VARCHAR(80) NULL,
  PRIMARY KEY (`peopleID`),
  UNIQUE INDEX `peopleName_UNIQUE` (`peopleName` ASC) VISIBLE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Language`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Language` (
    `languageID` VARCHAR(20) NOT NULL,
    `notCraftable` BIT(1) NULL,
    PRIMARY KEY (`languageID`),
    FOREIGN KEY (`languageID`)
        REFERENCES `Skill` (`skillID`)
        ON DELETE CASCADE ON UPDATE CASCADE
)  ENGINE=INNODB;


-- -----------------------------------------------------
-- Table `Visitor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Visitor` (
  `visitorID` VARCHAR(20) NOT NULL,
  `visitorIsNumaOnly` BIT(1) NULL,
  `languageID` VARCHAR(20) NULL,
  PRIMARY KEY (`visitorID`),
  -- UNIQUE INDEX `languageID_UNIQUE` (`languageID` ASC) VISIBLE,
    FOREIGN KEY (`visitorID`)
    REFERENCES `People` (`peopleID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
    FOREIGN KEY (`languageID`)
    REFERENCES Language(`languageID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Assistant`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Assistant` (
    `assistantID` VARCHAR(20) NOT NULL,
    `assistantSpecialty` VARCHAR(80) NULL,
    `assistantCost` INT NULL,
    `assistantLocation` VARCHAR(20) NULL,
    `itemID` VARCHAR(20) NULL,
    `elementOfTheSoulID` VARCHAR(20) NULL,
    PRIMARY KEY (`assistantID`),
    FOREIGN KEY (`itemID`)
        REFERENCES `Item` (`itemID`)
        ON DELETE SET NULL ON UPDATE CASCADE,
    FOREIGN KEY (`assistantID`)
        REFERENCES `People` (`peopleID`)
        ON DELETE CASCADE ON UPDATE CASCADE
)  ENGINE=INNODB;


-- -----------------------------------------------------
-- Table `SkillEOTS`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SkillEOTS` (
  `skillID` VARCHAR(20) NOT NULL,
  `elementOfTheSoulID` VARCHAR(20) NULL,
  PRIMARY KEY (`skillID`),
  INDEX `elementOfTheSoulID_idx` (`elementOfTheSoulID` ASC) VISIBLE,
    FOREIGN KEY (`elementOfTheSoulID`)
    REFERENCES `ElementOfTheSoul` (`elementOfTheSoulID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SkillPeople`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SkillPeople` (
  `skillID` VARCHAR(20) NOT NULL,
  `peopleID` VARCHAR(45) NULL,
  PRIMARY KEY (`skillID`),
  INDEX `peopleID_idx` (`peopleID` ASC) VISIBLE,
    FOREIGN KEY (`skillID`)
    REFERENCES `SkillEOTS` (`skillID`)
    ON DELETE CASCADE 
    ON UPDATE CASCADE,
    FOREIGN KEY (`peopleID`)
    REFERENCES `People` (`peopleID`)
    ON DELETE CASCADE 
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `ItemSkillBook`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `ItemSkillBook` (
  `itemID` VARCHAR(20) NOT NULL,
  `skillID` VARCHAR(20) NOT NULL,
  `bookID` VARCHAR(20) NOT NULL,
  PRIMARY KEY (`itemID`, `skillID`),
  INDEX `skillID_idx` (`skillID` ASC) VISIBLE,
  INDEX `bookID_idx` (`bookID` ASC) VISIBLE,
    FOREIGN KEY (`itemID`)
    REFERENCES `Item` (`itemID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE,
    FOREIGN KEY (`bookID`)
    REFERENCES `Book` (`bookID`)
    ON DELETE CASCADE
    ON UPDATE CASCADE)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `SkillMemory`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `SkillMemory` (
  `skillID` VARCHAR(20) NOT NULL,
  `memoryID` VARCHAR(20) NULL,
  PRIMARY KEY (`skillID`),
  INDEX `memoryID_idx` (`memoryID` ASC) VISIBLE,
  FOREIGN KEY (`skillID`)
  REFERENCES `ItemSkillBook`(`skillID`)
  ON DELETE CASCADE
  ON UPDATE CASCADE,
FOREIGN KEY (`memoryID`)
REFERENCES `Memory` (`memoryID`)
ON DELETE CASCADE
ON UPDATE CASCADE)
ENGINE = InnoDB;


-- SET SQL_MODE=@OLD_SQL_MODE;
-- SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
-- SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Adding Data
-- -----------------------------------------------------

-- MEMORY --
INSERT IGNORE INTO Memory(memoryID, memoryName, memorySources, memoryIsSound, memoryIsOmen, memoryIsPersistent, memoryIsWeather)
VALUES ('ME001', 'Memory: Taste', 'Considering sustenance and beverages', 0, 0, 0, 0), 
        ('ME002', 'Memory: Sound', 'Considering the Hush House Key', 0, 0, 0, 0),
        ('ME003', 'Memory: Sight', 'Considering Busts, burning things', 0, 0, 0, 0),
        ('ME004', 'Memory: Scent', 'Considering flowers', 0, 0, 0, 0),
        ('ME005', 'Memory: Touch', 'Considering comforts', 0, 0, 0, 0),
        ('ME006', 'Memory: Contradiction', 'Edge books', 0, 0, 0, 0),
        ('ME007', 'Memory: Foresight', 'Edge or Forge books', 0, 0, 0, 0),
        ('ME008', 'Memory: Satisfaction', 'Grail books', 0, 0, 0, 0),
        ('ME009', 'Memory: Solace', 'Heart or Sky books, or Dog / Cat pets', 0, 0, 0, 0),
        ('ME010', 'Memory: Storm', 'Heart books', 0, 0, 0, 0),
        ('ME011', 'Memory: Salt', 'Moon books', 0, 0, 0, 0),
        ('ME012', 'Memory: Pattern', 'Knock books', 0, 0, 0, 0),
        ('ME013', 'Memory: Revelation', 'Lantern books', 0, 0, 0, 0),
        ('ME014', 'Memory: A Stolen Secret', 'Knock or Moon books', 0, 0, 0, 0),
        ('ME015', 'Memory: Intuition', 'Rose or Moon books', 0, 0, 0, 0),
        ('ME016', 'Memory: Impulse', 'Moth books', 0, 0, 0, 0),
         ('ME017', 'Memory: Gossip', 'Various books, or Cockatoo pet', 0, 0, 0, 0),
         ('ME018', 'Memory: Fear', 'Scale or Edge books', 0, 0, 0, 0),
         ('ME019', 'Memory: Regret', 'Winter books', 0, 0, 0, 0),
         ('ME020', 'Memory: Hindsight', 'Winter books', 0, 0, 0, 0),
         ('ME021', 'Secret Threshold', 'Knock books, or Knock 5 crafts', 0, 0, 0, 0),
         ('ME022', 'Confounding Parable', 'Rose, Sky or Moon 5 crafts and books', 0, 0, 0, 0),
         ('ME023', 'Beguiling Melody', 'Grail books or Grail 5 craft', 1, 0, 0, 0),
         ('ME024', 'Cheerful Ditty', 'Sky books, or Heart 5 crafts', 1, 0, 0, 0),
         ('ME025', 'Savage Hymm', 'Singlefoot Songs, Unhatched Hymms (books) or Scale/Nectar 5 crafts', 1, 0, 0, 0),
         ('ME026', 'Wistful Air', 'Sky 5 crafts', 1, 0, 0, 0),
         ('ME027', 'Bittersweet Uncertainty', 'Various books, or Winter 5 crafts', 1, 0, 0, 0),
         ('ME028', 'Earth-Sign', 'Rapt in the King, De Ratio Quercum (books), or Viper pets', 0, 1, 1, 0),
         ('ME029', 'Occult Scraps', 'Considering Yellowing Newspaper', 0, 0, 1, 0),
         ('ME030', 'Old Wound', 'Edicts Martial Moon 5 craft', 0, 0, 1, 0),
         ('ME031', 'Winning Move', 'Edge 10 crafts', 0, 0, 0, 0),
         ('ME032', 'Curious Hunch', 'Knock 10 crafts', 0, 1, 0, 0),
         ('ME033', 'Enduring Reflection', 'Rose 10 crafts', 0, 0, 0, 0),
         ('ME034', 'Old Moment', 'Scale crafting, or Living Relic pet', 0, 0, 0, 0),
         ('ME035', 'Hive''s Lament', 'Gather at Beehive during Numa', 1, 0, 0, 0),
         ('ME036', 'Wind-Rumour', 'Sky craft, or Seagull pet', 0, 1, 0, 0),
         ('ME037', 'Ascendant Harmony', 'Sky 10 crafts', 1, 0, 0, 0),
         ('ME038', 'Didumos', 'Sky 15 crafts', 0, 0, 1, 0),
         ('ME039', 'Horizon-Sight', 'Stymphling pet, or craft Rose 15', 0, 0, 1, 0),
         ('ME040', 'Forbidden Epic', 'Edge 15 crafts', 0, 0, 1, 0),
         ('ME041', 'Invincible Audacity', 'Edge 15 crafts', 0, 0, 1, 0),
         ('ME042', 'Earthquake Name', 'Scale 15 crafts', 0, 1, 1, 0),
         ('ME043', 'Numen: Loopholes', 'Serpent-Root', 0, 0, 0, 0),
         ('ME044', 'Numen: Inescapable Confinement', 'Towards A Fundamental Aesthetic', 0, 0, 0, 0),
         ('ME045', 'Numen: The Sun''s Weakness', 'The Sun Disfigured', 0, 0, 0, 0),
         ('ME046', 'Numen: A Final Understanding', 'Towards A Fundamental Aesthetic: Second Edition', 0, 0, 0, 0),
         ('ME047', 'Numen: That Old Lost Music', 'The Turquoise Hand', 0, 0, 0, 0),
         ('ME048', 'Numen: The Great Counterfeit', 'Shuritic Book of Suns', 0, 0, 0, 0),
         ('ME049', 'Numen: Merciless Alterations', 'A Child''s Treasure of Golden Afternoons', 0, 0, 0, 0),
         ('ME050', 'Numen: The Bells of Ys', 'Amiranis Beteli', 0, 0, 0, 0),
         ('ME051', 'Numen: Back Into Balance', 'The Sky in the Scar', 0, 0, 0, 0),
         ('ME052', 'Numen: Weaving The World', 'Kopralith Omphalos', 0, 0, 0, 0),
         ('ME053', 'Numen: The Paths of the Sun', 'The Sun''s Design', 0, 0, 0, 0),
         ('ME054', 'Numen: An Irresistible Feast', 'The Writing On The Wall', 0, 0, 0, 0),
         ('ME055', 'Numen: Three Rules', 'The Three And The Three (St Chiavi Manuscript)', 0, 0, 0, 0),
         ('ME056', 'Clouds', 'Random draw on new day, most likely in Spring and Summer', 0, 0, 0, 1),
         ('ME057', 'Sunny', 'Random draw on new day, most likely in Spring and Summer', 0, 0, 0, 1),
         ('ME058', 'Rain', 'Random draw on new day, most likely in Fall', 0, 0, 0, 1),
         ('ME059', 'Gale', 'Random draw on new day, most likely in Fall and Winter', 0, 0, 0, 1),
         ('ME060', 'Fog', 'Random draw on new day, most likely in Fall', 0, 0, 0, 1),
         ('ME061', 'Hail', 'Random draw on new day, most likely in Winter', 0, 0, 0, 1),
         ('ME062', 'Storm', 'Random draw on new day, most likely in Winter', 0, 0, 0, 1),
         ('ME063', 'Snow', 'Random draw on new day, only in Winter', 0, 0, 0, 1),
         ('ME064', 'Nume-Brume', 'Guaranteed in Numa', 0, 0, 0, 1);

-- Book
INSERT IGNORE INTO Book(bookID, bookName, `language`, aspectID, memoryID, elementOfTheSoulID, numenID)
VALUES ('BK001', 'The War of the Roads, 1451-1551', NULL, NULL, 'ME007', NULL, NULL),
       ('BK002', 'De Horis Book 2','LATIN', NULL, 'ME007', NULL, NULL),
       ('BK003', 'De Horis Book 3','LATIN', NULL, 'ME006', NULL, NULL),
       ('BK004', 'The Sun''s Lament',NULL, NULL, 'ME018', NULL, NULL),
       ('BK005', 'The Victory Of Crowns',NULL, NULL, 'ME006', NULL, NULL),
       ('BK006', 'De Bellis Murorum',NULL, NULL, 'ME006', NULL, NULL),
       ('BK007', 'Exorcism for Girls', NULL, NULL, 'ME018', NULL, NULL),
       ('BK008', 'The High Traditions of the Noble Endeavour', 'Latin', NULL, 'ME007', NULL, NULL),
       ('BK009', 'The Iron Book', 'Fucine', NULL, 'ME007', NULL, NULL),
       ('BK010', 'The Open Head', 'Hyksos/Film', NULL, 'ME013', NULL, NULL),
       ('BK011', 'The Leonine Tantra', NULL, NULL, 'ME007', NULL, NULL),
       ('BK012', 'As The Sun His Course', NULL, NULL, 'ME006', NULL, NULL),
       ('BK013', 'The Ascendant', 'Hyksos', NULL, 'ME006', NULL, NULL),
       ('BK014', 'Seven Shards', NULL, NULL, 'ME020', NULL, NULL),
       ('BK015', 'The Sky in the Scar', NULL, NULL, 'ME051', NULL, 'ME051'),
       ('BK016', 'A Child''s Treasure of Golden Afternoons', 'Hyksos', NULL, 'ME049', NULL, 'ME049'),
       ('BK017', 'The Book of Thrones', NULL, NULL, 'ME006', NULL, NULL),
       ('BK018', 'The Deeds of Scarred Captain', NULL, NULL, 'ME018', NULL, NULL),
       ('BK019', 'Book of True Blood', NULL, NULL, 'ME018', NULL, NULL),
       ('BK020', 'How the End will Begin', NULL, NULL, 'ME018', NULL, NULL),
       ('BK021', 'The Sevenfold Slaying of the Seven-Coiled', 'Fucine', NULL, 'ME018', NULL, NULL),
       ('BK022', 'The Wound-Wounds', 'Killasimi', NULL, 'ME019', NULL, NULL),
       ('BK023', 'Vinzant''s Minglings', NULL, NULL, 'ME007', NULL, NULL),
       ('BK024', 'The Kindled Flame', NULL, NULL, 'ME007', NULL, NULL),
       ('BK025', 'Sunset''s Passage', 'Latin', NULL, 'ME013', NULL, NULL),
       ('BK026', 'The Book of Cinders', NULL, NULL, 'ME007', NULL, NULL),
       ('BK027', 'Journal of Walter Dewulf', NULL, NULL, 'ME007', NULL, NULL),
       ('BK028', 'The Vinzant Inscriptions', NULL, NULL, 'ME007', NULL, NULL),
       ('BK029', 'On Matthias an the Amethyst Imago: Transformation', 'Aramaic', NULL, 'ME016', NULL, NULL),
       ('BK030', 'The Amalgam of the Red Rose', NULL, NULL, 'ME007', NULL, NULL),
       ('BK031', 'The Incandescent Tantra', NULL, NULL, 'ME007', NULL, NULL),
       ('BK032', 'A Shape In Smoke', NULL, NULL, 'ME013', NULL, NULL),
       ('BK033', 'Old Coppernose And The Softer Metal', NULL, NULL, 'ME007', NULL, NULL),
       ('BK034', 'Ambrosial', NULL, NULL, 'ME016', NULL, NULL),
       ('BK035', 'The Temptations of Architecture', NULL, NULL, 'ME021', NULL, NULL),
       ('BK036', 'Skin of Silver', 'Deep Mandaic', NULL, 'ME018', NULL, NULL),
       ('BK037', 'The Admonitory Automata Project', 'Film', NULL, 'ME007', NULL, NULL),
       ('BK038', 'Glimmerings', NULL, NULL, 'ME027', NULL, NULL),
       ('BK039', 'Amiranis Beteli', 'Fucine', NULL, 'ME050', NULL, 'ME050'),
       ('BK040', 'The Carmine Petal: Revised', 'Fucine', NULL, 'ME007', NULL, NULL),
       ('BK041', 'The Book of Dissolution', 'Deep Mandaic', NULL, 'ME007', NULL, NULL),
       ('BK042', 'A Descent of the Shell', NULL, NULL, 'ME007', NULL, NULL),
       ('BK043', 'The Manner in which the Alchemist was Spared', 'Vak', NULL, 'ME007', NULL, NULL),
       ('BK044', 'The Burning Woman', NULL, NULL, 'ME007', NULL, NULL),
       ('BK045', 'My Deeds, My Powers, My Achievements And the Injustices Perpetrated Against Me', 'Deep Mandaic', NULL, 'ME007', NULL, NULL),
       ('BK046', 'The Messenger Awaiting Her Destination', 'Vak', NULL, 'ME012', NULL, NULL),
       ('BK047', 'The Carmine Petal: Unexpurgated', NULL, NULL, 'ME007', NULL, NULL),
       ('BK048', 'The Wind''Ruin', NULL, NULL, 'ME023', NULL, NULL),
       ('BK049', 'The Orchic Transfigurations: A Feast', 'Latin', NULL, 'ME015', NULL, NULL),
       ('BK050', 'The Skeleton Song', NULL, NULL, 'ME023', NULL, NULL),
       ('BK051', 'The Tripled Heart', 'Kernewek Henavek', NULL, 'ME015', NULL, NULL),
       ('BK052', 'The Devoured Tantra', 'Sanskrit', NULL, 'ME022', NULL, NULL),
       ('BK053', 'An Impertinent Vitulation', NULL, NULL, 'ME008', NULL, NULL),
       ('BK054', 'Colours in The Liver', NULL, NULL, 'ME013', NULL, NULL),
       ('BK055', 'On Matthias And the Amethyst Imago: Pursuit', 'Aramaic', NULL, 'ME017', NULL, NULL),
       ('BK056', 'The Orchid Transfigurations: A Birth', 'Latin', NULL, 'ME008', NULL, NULL),
       ('BK057', 'The Imitation of Skin', NULL, NULL, 'ME023', NULL, NULL),
       ('BK058', 'Snare of the Tree: Collected Proverbs of Aunt Mopsy', NULL, NULL, 'ME022', NULL, NULL),
       ('BK059', 'The Thirsting Tantra', NULL, NULL, 'ME008', NULL, NULL),
       ('BK060', 'Calicite Supplications', NULL, NULL, 'ME008', NULL, NULL),
       ('BK061', 'On Thirstlies, Ivories And Lovelies', NULL, NULL, 'ME016', NULL, NULL),
       ('BK062', 'The Wonderful Shape', 'Killasimi', NULL, 'ME008', NULL, NULL),
       ('BK063', 'A Journey to the Grove', NULL, NULL, 'ME008', NULL, NULL),
       ('BK064', 'The Rose of Nuriel', 'Greek', NULL, 'ME008', NULL, NULL),
       ('BK065', 'The Geminiad II', 'Fucine', NULL, 'ME008', NULL, NULL),
       ('BK066', 'The Sun Disfigured', 'Cracktrack', NULL, 'ME045', NULL, 'ME045'),
       ('BK067', 'One Thousand Threads', NULL, NULL, 'ME018', NULL, NULL),
       ('BK068', 'A Catalogue of Uncharted Pleasures', NULL, NULL, 'ME008', NULL, NULL),
       ('BK069', 'Twenty-Six Enticements, Seven Torments', 'Fucine', NULL, 'ME016', NULL, NULL),
       ('BK070', 'The Dream Of The Conspiracy of the Lower Skies', 'Phrygian', NULL, 'ME017', NULL, NULL),
       ('BK071', 'Medusan Commentaries', NULL, NULL, 'ME018', NULL, NULL),
       ('BK072', 'Apollo and Marsyas', NULL, NULL, 'ME010', NULL, NULL),
       ('BK073', 'The Orchid Transfigurations: Noon', NULL, NULL, 'ME009', NULL, NULL),
       ('BK074', 'The Other Line', NULL, NULL, 'ME022', NULL, NULL),
       ('BK075', 'A True And Complete Account of the Asclepian Mysteries of the Roots of the House', 'Greek', NULL, 'ME016', NULL, NULL),
       ('BK076', 'The Ceaseless Tantra', NULL, NULL, 'ME016', NULL, NULL),
       ('BK077', 'Velletri Interviews', 'Phonograph', NULL, 'ME014', NULL, NULL),
       ('BK078', 'Rapt in the King', NULL, NULL, 'ME028', NULL, NULL),
       ('BK079', 'Warming Draughts to Uplift the Heart', NULL, NULL, 'ME016', NULL, NULL),
       ('BK080', 'Two Wombs, One Heart', 'Killasimi', NULL, 'ME008', NULL, NULL),
       ('BK081', 'The Flayed Tantra', 'Sanskrit', NULL, 'ME010', NULL, NULL),
       ('BK082', 'The Geminiad I', 'Fucine', NULL, 'ME009', NULL, NULL),
       ('BK083', 'Notes on Bindings', NULL, NULL, 'ME009', NULL, NULL),
       ('BK084', 'The Instruments of the Heart', NULL, NULL, 'ME024', NULL, NULL),
       ('BK085', 'Those Who Do Not Sleep', 'Fucine', NULL, 'ME010', NULL, NULL),
       ('BK086', 'Lake Fucino Recordings', NULL, NULL, 'ME023', NULL, NULL),
       ('BK087', 'Commandments for the Perservation of All that Exists', 'Deep Mandaic', NULL, 'ME008', NULL, NULL),
       ('BK088', 'The Time of Division', 'Deep Mandaic', NULL, 'ME012', NULL, NULL),
       ('BK089', 'Nyn''s Cages (Avignon Text)', 'Ericapaean', NULL, 'ME020', NULL, NULL),
       ('BK090', 'The Book of the Extinguished Heart', 'Deep Mandaic', NULL, 'ME027', NULL, NULL),
       ('BK091', 'Travelling At Night, Vol 1', NULL, NULL, 'ME016', NULL, NULL),
       ('BK092', 'Travelling At Night, Vol 3', NULL, NULL, 'ME012', NULL, NULL),
       ('BK093', 'The Treatise On Underplaces', NULL, NULL, 'ME018', NULL, NULL),
       ('BK094', 'The Raptures of Forculus', 'Latin', NULL, 'ME012', NULL, NULL),
       ('BK095', 'Advice of Containment', NULL, NULL, 'ME012', NULL, NULL),
       ('BK096', 'The Elations on Limentinus', 'Latin', NULL, 'ME012', NULL, NULL),
       ('BK097', 'The Locksmith''s Dream: Trespasses', NULL, NULL, 'ME016', NULL, NULL),
       ('BK098', 'By Their Marks Shall Ye Know Them', NULL, NULL, 'ME012', NULL, NULL),
       ('BK099', 'The Gospel of Zacchaeus', 'Greek', NULL, 'ME014', NULL, NULL),
       ('BK100', 'Cardea''s Delights', 'Latin', NULL, 'ME012', NULL, NULL),

       ('BK105', 'Towards A Fundamental Aesthetic', 'Ericapaean', NULL, 'ME044', NULL, 'ME044'),

       ('BK129', 'The Sun''s Design', 'Cracktrack', NULL, 'ME053', NULL, 'ME053'),

       ('BK165', 'The Three And The Three (St Chiavi Manuscript)', NULL, NULL, 'ME055', NULL, 'ME055'),

       ('BK177', 'Kopralith Omphalos', 'Killasimi', NULL, 'ME052', NULL, 'ME052'),

       ('BK196', 'Serpent-Root', 'Cracktrack', NULL, 'ME043', NULL, 'ME043'),

       ('BK198', 'The Writing On The Wall', 'Vak', NULL, 'ME054', NULL, 'ME054'),

       ('BK206', 'The Turquoise Hand', 'Ramsund', NULL, 'ME047', NULL, 'ME047'),

       ('BK252', 'Shuritic Book of Suns', 'Deep Mandaic', NULL, 'ME048', NULL, 'ME048'),

       ('BK278', 'Towards A Fundamental Aesthetic: Second Edition', 'Ericapaean', NULL, 'ME046', NULL, 'ME046');
       
-- Numen
INSERT IGNORE INTO Numen(numenID, bookID)
VALUES ('ME043', 'BK196'),
        ('ME044', 'BK105'),
        ('ME045','BK066'),
        ('ME046', 'BK278'),
        ('ME047', 'BK206'),
        ('ME048', 'BK252'),
        ('ME049', 'BK016'),
        ('ME050', 'BK039'),
        ('ME051', 'BK015'),
        ('ME052', 'BK177'),
        ('ME053', 'BK129'),
        ('ME054', 'BK198'),
        ('ME055', 'BK165');

-- Aspect
INSERT IGNORE INTO Aspect(aspectID, aspectName, itemID)
VALUES ('AS001', 'Edge', NULL),
       ('AS002', 'Forge', NULL),
       ('AS003', 'Grail', NULL),
       ('AS004', 'Heart', NULL),
       ('AS005', 'Knock', NULL),
       ('AS006', 'Lantern', NULL),
       ('AS007', 'Moon', NULL),
       ('AS008', 'Moth', NULL),
       ('AS009', 'Nectar', NULL),
       ('AS010', 'Rose', NULL),
       ('AS011', 'Scale', NULL),
       ('AS012', 'Sky', NULL),
       ('AS013', 'Winter', NULL);

-- Update book with aspectID
UPDATE Book
SET aspectID =
    CASE
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 001 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 022
        THEN 'AS001'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 023 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 047
        THEN 'AS002'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 048 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 071
        THEN 'AS003'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 072 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 090
        THEN 'AS004'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 091 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 113
        THEN 'AS005'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 114 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 134
        THEN 'AS006'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 135 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 165
        THEN 'AS007'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 166 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 185
        THEN 'AS008'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 186 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 199
        THEN 'AS009'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 200 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 213
        THEN 'AS010'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 214 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 231
        THEN 'AS011'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 232 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 260
        THEN 'AS012'
    WHEN CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) >= 261 AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) <= 282
        THEN 'AS013'
    END
WHERE (bookID IS NOT NULL AND memoryID IS NOT NULL AND aspectID IS NULL AND elementOfTheSoulID IS NULL
		AND CAST(SUBSTRING(bookID, 3, 3) AS UNSIGNED) BETWEEN 1 AND 282);

-- People

INSERT IGNORE INTO People(peopleID, peopleName)
VALUES ('PE001', 'Denzil the Blacksmith'),
       ('PE002', 'Mrs Kille'),
       ('PE003', 'Mr Kille'),
       ('PE004', 'Riverend Timothy'),
       ('PE005', 'Miner'),
       ('PE006', 'Barber'),
       ('PE007', 'Orchard-Keeper'),
       ('PE008', 'Fisherman'),
       ('PE009', 'Travelling Musician'),
       ('PE010', 'Fugitive'),
       ('PE011', 'Surrealist Painter'),
       ('PE012', 'Consulting Engineer'),
       ('PE013', 'Poet'),
       ('PE014', 'Unusual Nun'),
       ('PE015', 'Mr Peter Agdistis'),
       ('PE016', 'Dr Ibn al-Adim'),
       ('PE017', 'Lt Arthur Thomas Moore (Ret.)'),
       ('PE018', 'Dr Arun Peel'),
       ('PE019', 'Ms Azita Bukhara'),
       ('PE020', 'Lalla Chaima'),
       ('PE021', 'MCO Constance Lee'),
       ('PE022', 'Princess Conquille Amirejibi'),
       ('PE023', 'Sr. Corso Reverte'),
       ('PE024', '''Daymare'''),
       ('PE025', 'DI Douglas Moore'),
       ('PE026', 'Mr Ehsan Fekri'),
       ('PE027', 'Mr Fraser Strathcoyne'),
       ('PE028', 'Magister Hokobald'),
       ('PE029', 'Mlle Margot Matutine'),
       ('PE030', 'Mme Olympe Bechet'),
       ('PE031', 'Dr Serena Blackwood'),
       ('PE032', 'Fr. Stanislav John Schaller'),
       ('PE033', 'Dr Yvette Southey'),
       ('PE034', 'Mr Zachary Wakefield'),
       ('PE035', 'Aunt Mopsy'),
       ('PE036', 'Lord Franklin Bancroft'),
       ('PE037', 'Julian Coseley'),
       ('PE038', 'Professor Rowena Hengerst');

-- Assistant
INSERT IGNORE INTO Assistant(assistantID, assistantSpecialty, assistantCost, assistantLocation, itemID, elementOfTheSoulID)
VALUES ('PE001', 'Can use metals', 12, 'Smithy', NULL, NULL),
       ('PE002', 'Can use fabric and fibre', 12, 'Kille House', NULL, NULL),
       ('PE003', 'Can use wood', 12, 'Kille House', NULL, NULL),
       ('PE004', 'Can use candles', 12, 'Rectory', NULL, NULL),
       ('PE005', NULL, 12, 'Sweet Bones, Spring', NULL, NULL),
       ('PE006', NULL, 12, 'Sweet Bones, Summer', NULL, NULL),
       ('PE007', NULL, 12, 'Sweet Bones, Autumn', NULL, NULL),
       ('PE008', NULL, 12, 'Sweet Bones, Winter', NULL, NULL),
       ('PE009', NULL, 24, 'Sweet Bones', NULL, NULL),
       ('PE010', NULL, 24, 'Sweet Bones', NULL, NULL),
       ('PE011', 'Can use pigments', 24, 'Sweet Bones', NULL, NULL),
       ('PE012', 'Can use fuel', 24, 'Sweet Bones', NULL, NULL),
       ('PE013', 'Can use flower', 24, 'Sweet Bones', NULL, NULL),
       ('PE014', 'Can use omen', 24, 'Sweet Bones', NULL, NULL);

-- Skill, language only
INSERT IGNORE INTO Skill(skillID, skillName, specialAttribute, aspectID)
VALUES ('SK007', 'Deep Mandaic', 'Language', 'AS002'),
       ('SK012', 'Hyksos', 'Language', 'AS003'),
       ('SK017', 'Fucine', 'Language', 'AS004'),
       ('SK025', 'Vak', 'Language', 'AS005'),
       ('SK027', 'Ericapaean', 'Language', 'AS006'),
       ('SK039', 'Ramsund', 'Language', 'AS008'),
       ('SK041', 'Sabazine', 'Language', 'AS008'),
       ('SK044', 'Cracktrack', 'Language', 'AS009'),
       ('SK058', 'Kernewek Henavek', 'Language', 'AS011'),
       ('SK069', 'Killasimi', 'Language', 'AS013');

-- Language
INSERT IGNORE INTO Language(languageID, notCraftable)
VALUES ('SK007', 1),
       ('SK012', 1),
       ('SK017', 1),
       ('SK025', 1),
       ('SK027', 1),
       ('SK039', 1),
       ('SK041', 1),
       ('SK044', 1),
       ('SK058', 1),
       ('SK069', 1);

-- Visitor
INSERT IGNORE INTO Visitor(visitorID, visitorIsNumaOnly, languageID)
VALUES ('PE015', 0, 'SK017'),
       ('PE016', 0, 'SK041'),
       ('PE017', 0, 'SK041'),
       ('PE018', 0, 'SK025'),
       ('PE019', 0, 'SK007'),
       ('PE020', 0, 'SK044'),
       ('PE021', 0, 'SK069'),
       ('PE022', 0, 'SK025'),
       ('PE023', 0, 'SK012'),
       ('PE024', 0, 'Sk039'),
       ('PE025', 0, NULL),
       ('PE026', 0, 'SK007'),
       ('PE027', 0, 'SK039'),
       ('PE028', 0, 'SK007'),
       ('PE029', 0, 'SK069'),
       ('PE030', 0, 'SK039'),
       ('PE031', 0, 'SK017'),
       ('PE032', 0, 'SK044'),
       ('PE033', 0, 'SK027'),
       ('PE034', 0, 'SK069'),
       ('PE035', 1, 'SK012'),
       ('PE036', 1, 'SK007'),
       ('PE037', 1, 'SK027'),
       ('PE038', 1, 'SK058');